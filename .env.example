# =============================================
# 주식 관리 자동화 시스템 - 환경 변수 설정
# 사용법: cp .env.example .env  →  값 입력 후 저장
# =============================================


# ─────────────────────────────────────────────
# [필수] AI 분석 — Google Gemini API
# https://aistudio.google.com/app/apikey 에서 발급
# ─────────────────────────────────────────────
GEMINI_API_KEY=your_gemini_api_key_here

# 모델명 (기본값 권장)
GEMINI_MODEL=gemini-2.5-flash

# AI 응답 최대 토큰 수 (기본: 2048)
AI_MAX_TOKENS=2048

# AI 창의성 수준 — 낮을수록 일관된 분석 (0.0~1.0, 기본: 0.3)
AI_TEMPERATURE=0.3

# 매수 추천 최소 신뢰도 — 미달 시 HOLD로 다운그레이드 (기본: 0.65)
BUY_CONFIDENCE_THRESHOLD=0.65

# 매도 신호 최소 신뢰도 (기본: 0.60)
SELL_CONFIDENCE_THRESHOLD=0.60


# ─────────────────────────────────────────────
# [최초 1회] 초기 시드 종목 — init 부트스트랩 전용
#
# ⚠️  이 값은 "python main.py init" 최초 실행 시 DB가 비어있을 때만 사용됩니다.
#     이후 포트폴리오에 종목을 추가하면 DB 값이 우선 적용되며 이 환경변수는 무시됩니다.
#     즉, 평상시 모니터링 종목 변경은 대시보드 포트폴리오 메뉴에서 직접 관리하세요.
#
# 형식: 쉼표 구분, 미국주식 티커 또는 한국주식 KS 코드
# 예시: AAPL,GOOGL,MSFT,005930.KS,000660.KS
# ─────────────────────────────────────────────
WATCHLIST_TICKERS=AAPL,GOOGL,MSFT,NVDA,TSLA


# ─────────────────────────────────────────────
# [NAS Docker] 경로 및 포트 설정
# ─────────────────────────────────────────────

# 타임존 — NAS 로컬 시간으로 설정 (로그 타임스탬프에 적용)
# 스케줄러 자체는 NYSE 기준 America/New_York 고정
# 한국: Asia/Seoul / 미국동부: America/New_York
TZ=Asia/Seoul

# NAS 데이터 저장 경로 (SQLite DB)
# Synology 예시: /volume1/docker/stock-manage/data
# 로컬 개발 시: ./data (기본값)
DATA_PATH=./data

# NAS 로그 저장 경로
# Synology 예시: /volume1/docker/stock-manage/logs
# 로컬 개발 시: ./logs (기본값)
LOG_PATH=./logs

# 대시보드 외부 포트 (NAS에서 다른 서비스와 충돌 시 변경)
# 접속 주소: http://<NAS IP>:<DASHBOARD_PORT>
DASHBOARD_PORT=8085

# 대시보드 접속 비밀번호 (빈값이면 비밀번호 없이 접속)
DASHBOARD_PASSWORD=


# ─────────────────────────────────────────────
# [자동 설정] 데이터베이스 — Docker에서 자동 지정됨
# docker-compose.yml에서 sqlite:////app/data/stock_manage.db 로 고정
# 로컬 실행 시에만 아래 값이 사용됩니다.
# ─────────────────────────────────────────────
DATABASE_URL=sqlite:///./stock_manage.db


# ─────────────────────────────────────────────
# [자동 설정] 스케줄 및 로깅 — Docker에서 자동 지정됨
# ─────────────────────────────────────────────

# 실시간 가격 갱신 주기 (분 단위, 기본: 5)
FETCH_INTERVAL_MINUTES=5

# 일별 AI 분석 실행 시각 (HH:MM, 미국 동부시각 기준)
DAILY_ANALYSIS_TIME=09:00

# 로그 레벨: DEBUG / INFO / WARNING / ERROR (기본: INFO)
LOG_LEVEL=INFO

# 로컬 실행 시 로그 파일 경로 (Docker에서는 /app/logs/stock_manage.log 고정)
LOG_FILE=logs/stock_manage.log


# ─────────────────────────────────────────────
# [선택] 카카오톡 알림
# https://developers.kakao.com → 내 애플리케이션 → REST API 키 확인
# Access/Refresh Token은 python main.py notify_test 실행 후 로그에서 확인
# ─────────────────────────────────────────────
KAKAO_REST_API_KEY=
KAKAO_ACCESS_TOKEN=
KAKAO_REFRESH_TOKEN=


# ─────────────────────────────────────────────
# [선택] 텔레그램 알림 (푸시 알림 지원, 권장)
# @BotFather에서 봇 생성 후 토큰 발급
# Chat ID: https://api.telegram.org/bot<TOKEN>/getUpdates 에서 확인
# ─────────────────────────────────────────────
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=


# ─────────────────────────────────────────────
# [선택] Slack 알림 (레거시, 미사용 시 비워두세요)
# ─────────────────────────────────────────────
SLACK_WEBHOOK_URL=
